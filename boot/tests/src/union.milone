type Status =
  | Ok
  | Err of string

type Limit =
  | LimitVal of int
  | LimitDiv

type ApiResponse =
  | ARJson
    of string
  | ARError
    of int * string
  | ARCancel

let main _ =
  let () =
    let ok = Ok
    let err1 = Err "No such file or directory."
    let err2 = Err "Access denied."

    match err1 with
    | Ok ->
      exit 1
    | Err e ->
      if e <> "No such file or directory." then exit 2

  let () =
    match LimitVal 1 with
    | LimitVal x ->
      if x <> 1 then exit 1
    | LimitDiv ->
      exit 2

  let () =
    match ARCancel with
    | ARCancel ->
      ()
    | _ ->
      exit 1

  let () =
    match ARError (404, "Not Found") with
    | ARError (statusCode, statusText) ->
      if statusCode <> 404 || statusText <> "Not Found" then exit 1
    | _ ->
      exit 1

  0
